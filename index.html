<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realza — Mouse Reveal Effect</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Warm, earthy palette - matching Realza */
            --cream: #f8f5f0;
            --cream-dark: #ebe6dd;
            --sand: #d4cbb8;
            --terracotta: #c4704b;
            --terracotta-dark: #a85a3a;
            --terracotta-light: #e89b7a;
            --clay: #8b5e3c;
            --espresso: #2c2420;
            --charcoal: #1a1714;
            --ink: #0d0b0a;
            
            /* Typography */
            --font-display: 'Instrument Serif', Georgia, serif;
            --font-body: 'Syne', system-ui, sans-serif;
            
            /* Spacing */
            --space-xs: 0.5rem;
            --space-sm: 1rem;
            --space-md: 2rem;
            --space-lg: 4rem;
            --space-xl: 8rem;
            
            /* Ease */
            --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background: var(--espresso);
            color: var(--cream);
            overflow-x: hidden;
            line-height: 1.5;
            min-height: 100vh;
        }

        /* Custom cursor */
        .cursor {
            width: 12px;
            height: 12px;
            background: var(--terracotta);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 10000;
            mix-blend-mode: difference;
            transition: transform 0.2s var(--ease-out);
        }

        .cursor.hover {
            transform: scale(4);
        }

        @media (hover: none) {
            .cursor { display: none; }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: var(--space-md) var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            font-family: var(--font-display);
            font-size: 1.8rem;
            font-style: italic;
            color: var(--cream);
            text-decoration: none;
            transition: opacity 0.3s;
        }

        .nav-logo:hover { opacity: 0.7; }

        .nav-tag {
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--terracotta-light);
            background: rgba(196, 112, 75, 0.2);
            padding: 0.5rem 1rem;
            border: 1px solid var(--terracotta);
        }

        /* Main Content */
        .page-wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--space-xl) var(--space-lg);
        }

        .header {
            text-align: center;
            margin-bottom: var(--space-lg);
            animation: fadeIn 1s var(--ease-out);
        }

        .header-label {
            font-size: 0.7rem;
            font-weight: 700;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            color: var(--terracotta-light);
            margin-bottom: var(--space-sm);
        }

        .header-title {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 6vw, 5rem);
            font-weight: 400;
            line-height: 1;
            color: var(--cream);
            margin-bottom: var(--space-sm);
        }

        .header-title em {
            font-style: italic;
            color: var(--terracotta-light);
        }

        .header-desc {
            font-size: 1.1rem;
            color: var(--sand);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.8;
        }

        /* Reveal Container */
        .reveal-section {
            width: 100%;
            max-width: 800px;
            animation: slideUp 1s var(--ease-out) 0.3s both;
        }

        .reveal-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4/5;
            border-radius: 0;
            overflow: hidden;
            cursor: crosshair;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
        }

        .reveal-container canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .reveal-badge {
            position: absolute;
            bottom: var(--space-md);
            left: var(--space-md);
            background: var(--cream);
            padding: var(--space-sm) var(--space-md);
            z-index: 10;
            pointer-events: none;
        }

        .reveal-badge-text {
            font-size: 0.65rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--terracotta);
        }

        .reveal-badge-value {
            font-family: var(--font-display);
            font-size: 1.2rem;
            font-style: italic;
            color: var(--espresso);
        }

        /* Controls */
        .controls {
            margin-top: var(--space-md);
            display: flex;
            gap: var(--space-md);
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
            animation: fadeIn 1s var(--ease-out) 0.6s both;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .control-label {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--sand);
        }

        input[type="range"] {
            width: 120px;
            height: 4px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--clay);
            border-radius: 2px;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--terracotta);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s var(--ease-out);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .btn {
            padding: 0.8rem 1.5rem;
            font-family: var(--font-body);
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            border: none;
            cursor: pointer;
            transition: all 0.4s var(--ease-out);
        }

        .btn-primary {
            background: var(--terracotta);
            color: var(--cream);
        }

        .btn-primary:hover {
            background: var(--terracotta-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(196, 112, 75, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--cream);
            border: 1px solid var(--clay);
        }

        .btn-secondary:hover {
            background: var(--clay);
            border-color: var(--clay);
        }

        .btn-secondary.active {
            background: var(--terracotta);
            border-color: var(--terracotta);
        }

        .mode-toggle {
            display: flex;
            gap: 0;
        }

        .mode-toggle .btn {
            border-radius: 0;
        }

        /* Info Section */
        .info-section {
            margin-top: var(--space-xl);
            max-width: 800px;
            width: 100%;
            animation: fadeIn 1s var(--ease-out) 0.9s both;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-md);
            padding-top: var(--space-lg);
            border-top: 1px solid var(--clay);
        }

        .info-item {
            text-align: center;
        }

        .info-number {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-style: italic;
            color: var(--terracotta);
            line-height: 1;
        }

        .info-label {
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--sand);
            margin-top: var(--space-xs);
        }

        /* Instructions */
        .instructions {
            margin-top: var(--space-lg);
            padding: var(--space-md);
            background: var(--charcoal);
            max-width: 800px;
            width: 100%;
        }

        .instructions h3 {
            font-family: var(--font-display);
            font-size: 1.3rem;
            font-style: italic;
            color: var(--cream);
            margin-bottom: var(--space-sm);
        }

        .instructions p {
            font-size: 0.9rem;
            color: var(--sand);
            line-height: 1.8;
        }

        .instructions code {
            background: rgba(196, 112, 75, 0.2);
            color: var(--terracotta-light);
            padding: 0.2rem 0.5rem;
            font-size: 0.85em;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(60px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .page-wrapper {
                padding: var(--space-xl) var(--space-md);
            }

            nav {
                padding: var(--space-sm) var(--space-md);
            }

            .info-grid {
                grid-template-columns: 1fr;
                gap: var(--space-sm);
            }

            .controls {
                flex-direction: column;
            }
        }

        /* Focus styles */
        *:focus-visible {
            outline: 3px solid var(--terracotta);
            outline-offset: 4px;
        }
    </style>
</head>
<body>
    <div class="cursor" id="cursor"></div>

    <!-- Navigation -->
    <nav>
        <a href="#" class="nav-logo">Realza</a>
        <span class="nav-tag">Interactive Demo</span>
    </nav>

    <!-- Main Content -->
    <div class="page-wrapper">
        <header class="header">
            <span class="header-label">Reveal Effect</span>
            <h1 class="header-title">Discover the <em>Hidden</em></h1>
            <p class="header-desc">Move your cursor across the surface to unveil the artwork beneath. A metaphor for the transformative power of marble — revealing beauty layer by layer.</p>
        </header>

        <div class="reveal-section">
            <div class="reveal-container" id="container">
                <canvas id="canvas"></canvas>
                <div class="reveal-badge">
                    <div class="reveal-badge-text">Interaction</div>
                    <div class="reveal-badge-value">Mouse Reveal</div>
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <span class="control-label">Brush: <span id="sizeValue">80</span>px</span>
                    <input type="range" id="brushSize" min="20" max="200" value="80">
                </div>
                
                <div class="mode-toggle">
                    <button id="modeCircle" class="btn btn-secondary active">Hard Edge</button>
                    <button id="modeSoft" class="btn btn-secondary">Soft Edge</button>
                </div>
                
                <button id="resetBtn" class="btn btn-primary">Reset Canvas</button>
            </div>
        </div>

        <div class="info-section">
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-number">01</div>
                    <div class="info-label">Hover to Reveal</div>
                </div>
                <div class="info-item">
                    <div class="info-number">02</div>
                    <div class="info-label">Adjust Brush Size</div>
                </div>
                <div class="info-item">
                    <div class="info-number">03</div>
                    <div class="info-label">Reset Anytime</div>
                </div>
            </div>
        </div>

        <div class="instructions">
            <h3>Integration Guide</h3>
            <p>
                To use with your own images, replace <code>BASE_IMAGE</code> and <code>REVEAL_IMAGE</code> 
                URLs in the script below. Both images should have the same dimensions for best results. 
                This effect works beautifully for before/after reveals, product showcases, or artistic unveilings.
            </p>
        </div>
    </div>

    <script>
        // ===========================================
        // CONFIGURATION - Replace with your images!
        // ===========================================
        // Use direct image URLs or local paths like '/images/base.png'
        const BASE_IMAGE = 'https://github.com/user-attachments/assets/8996d772-9a7d-4dda-87ad-1eb34bfda62a';
        const REVEAL_IMAGE = 'https://github.com/user-attachments/assets/7cc59ceb-2dbf-45fc-8044-a4c931a44e12';
        
        // ===========================================
        // MAIN CODE
        // ===========================================
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const container = document.getElementById('container');
        
        // Create mask canvas (tracks revealed areas)
        const maskCanvas = document.createElement('canvas');
        const maskCtx = maskCanvas.getContext('2d');
        
        // Image storage
        let baseImage = null;
        let revealImage = null;
        let isLoaded = false;
        
        // Settings
        let brushSize = 80;
        let brushMode = 'circle'; // 'circle' or 'soft'
        
        // Set canvas size
        function setCanvasSize(width, height) {
            canvas.width = width;
            canvas.height = height;
            maskCanvas.width = width;
            maskCanvas.height = height;
        }

        // Create demo images (used when no real images load)
        function createDemoImages() {
            const width = 800;
            const height = 1000;
            setCanvasSize(width, height);
            
            // Create base image - dark marble theme
            const baseCanvas = document.createElement('canvas');
            baseCanvas.width = width;
            baseCanvas.height = height;
            const baseCtx = baseCanvas.getContext('2d');
            
            // Dark gradient background
            const grad1 = baseCtx.createLinearGradient(0, 0, width, height);
            grad1.addColorStop(0, '#1a1714');
            grad1.addColorStop(0.5, '#2c2420');
            grad1.addColorStop(1, '#0d0b0a');
            baseCtx.fillStyle = grad1;
            baseCtx.fillRect(0, 0, width, height);
            
            // Add marble-like veins
            baseCtx.strokeStyle = 'rgba(212, 203, 184, 0.1)';
            baseCtx.lineWidth = 2;
            for (let i = 0; i < 15; i++) {
                baseCtx.beginPath();
                baseCtx.moveTo(Math.random() * width, 0);
                baseCtx.bezierCurveTo(
                    Math.random() * width, height * 0.33,
                    Math.random() * width, height * 0.66,
                    Math.random() * width, height
                );
                baseCtx.stroke();
            }
            
            // Text
            baseCtx.fillStyle = '#f8f5f0';
            baseCtx.font = 'italic 64px "Instrument Serif", Georgia, serif';
            baseCtx.textAlign = 'center';
            baseCtx.fillText('Hover to', width/2, height/2 - 40);
            baseCtx.fillStyle = '#e89b7a';
            baseCtx.fillText('Reveal', width/2, height/2 + 40);
            
            // Create reveal image - warm terracotta theme
            const revealCanvas = document.createElement('canvas');
            revealCanvas.width = width;
            revealCanvas.height = height;
            const revealCtx = revealCanvas.getContext('2d');
            
            // Warm gradient
            const grad2 = revealCtx.createLinearGradient(0, 0, width, height);
            grad2.addColorStop(0, '#c4704b');
            grad2.addColorStop(0.5, '#e89b7a');
            grad2.addColorStop(1, '#a85a3a');
            revealCtx.fillStyle = grad2;
            revealCtx.fillRect(0, 0, width, height);
            
            // Add decorative circles
            revealCtx.fillStyle = 'rgba(248, 245, 240, 0.15)';
            for (let i = 0; i < 25; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const size = 30 + Math.random() * 80;
                revealCtx.beginPath();
                revealCtx.arc(x, y, size, 0, Math.PI * 2);
                revealCtx.fill();
            }
            
            // Text
            revealCtx.fillStyle = '#f8f5f0';
            revealCtx.font = 'italic 72px "Instrument Serif", Georgia, serif';
            revealCtx.textAlign = 'center';
            revealCtx.fillText('Realza', width/2, height/2);
            revealCtx.font = '600 18px "Syne", sans-serif';
            revealCtx.letterSpacing = '0.2em';
            revealCtx.fillText('MARBLE ELEVATED TO ART', width/2, height/2 + 50);
            
            // Convert to images
            baseImage = new Image();
            revealImage = new Image();
            
            baseImage.onload = () => {
                revealImage.onload = () => {
                    isLoaded = true;
                    draw();
                };
                revealImage.src = revealCanvas.toDataURL();
            };
            baseImage.src = baseCanvas.toDataURL();
        }

        // Try to load real images, fall back to demo
        function loadImages() {
            baseImage = new Image();
            revealImage = new Image();
            baseImage.crossOrigin = 'anonymous';
            revealImage.crossOrigin = 'anonymous';
            
            let loadCount = 0;
            let errorCount = 0;
            
            const onLoad = () => {
                loadCount++;
                if (loadCount === 2) {
                    setCanvasSize(baseImage.width, baseImage.height);
                    isLoaded = true;
                    draw();
                }
            };
            
            const onError = () => {
                errorCount++;
                if (errorCount >= 1) {
                    console.log('Image load failed, using demo images');
                    createDemoImages();
                }
            };
            
            baseImage.onload = onLoad;
            revealImage.onload = onLoad;
            baseImage.onerror = onError;
            revealImage.onerror = onError;
            
            baseImage.src = BASE_IMAGE;
            revealImage.src = REVEAL_IMAGE;
            
            // Timeout fallback
            setTimeout(() => {
                if (!isLoaded && errorCount === 0) {
                    createDemoImages();
                }
            }, 5000);
        }

        // Draw the composited result
        function draw() {
            if (!isLoaded) return;
            
            // Draw base image
            ctx.drawImage(baseImage, 0, 0);
            
            // Create temp canvas for masked reveal
            const tempCanvas = document.createElement('canvas');
            tempCanvas.width = canvas.width;
            tempCanvas.height = canvas.height;
            const tempCtx = tempCanvas.getContext('2d');
            
            // Draw mask, then reveal image using source-in
            tempCtx.drawImage(maskCanvas, 0, 0);
            tempCtx.globalCompositeOperation = 'source-in';
            tempCtx.drawImage(revealImage, 0, 0);
            
            // Draw masked reveal on top
            ctx.drawImage(tempCanvas, 0, 0);
        }

        // Paint on mask at position
        function paint(x, y) {
            if (!isLoaded) return;
            
            if (brushMode === 'soft') {
                // Soft edge brush using radial gradient
                const gradient = maskCtx.createRadialGradient(x, y, 0, x, y, brushSize);
                gradient.addColorStop(0, 'rgba(255,255,255,1)');
                gradient.addColorStop(0.5, 'rgba(255,255,255,0.5)');
                gradient.addColorStop(1, 'rgba(255,255,255,0)');
                maskCtx.fillStyle = gradient;
                maskCtx.beginPath();
                maskCtx.arc(x, y, brushSize, 0, Math.PI * 2);
                maskCtx.fill();
            } else {
                // Hard circle brush
                maskCtx.fillStyle = 'white';
                maskCtx.beginPath();
                maskCtx.arc(x, y, brushSize, 0, Math.PI * 2);
                maskCtx.fill();
            }
            
            draw();
        }

        // Get position from event (mouse or touch)
        function getPosition(e) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            let clientX, clientY;
            if (e.touches) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            return {
                x: (clientX - rect.left) * scaleX,
                y: (clientY - rect.top) * scaleY
            };
        }

        // Event handlers
        let isDrawing = false;

        container.addEventListener('mousedown', (e) => {
            isDrawing = true;
            const pos = getPosition(e);
            paint(pos.x, pos.y);
        });

        container.addEventListener('mousemove', (e) => {
            // Paint on hover (not just drag)
            const pos = getPosition(e);
            paint(pos.x, pos.y);
        });

        container.addEventListener('mouseup', () => isDrawing = false);
        container.addEventListener('mouseleave', () => isDrawing = false);

        // Touch support
        container.addEventListener('touchstart', (e) => {
            e.preventDefault();
            isDrawing = true;
            const pos = getPosition(e);
            paint(pos.x, pos.y);
        });

        container.addEventListener('touchmove', (e) => {
            e.preventDefault();
            if (isDrawing) {
                const pos = getPosition(e);
                paint(pos.x, pos.y);
            }
        });

        container.addEventListener('touchend', () => isDrawing = false);

        // Controls
        document.getElementById('brushSize').addEventListener('input', (e) => {
            brushSize = parseInt(e.target.value);
            document.getElementById('sizeValue').textContent = brushSize;
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            maskCtx.clearRect(0, 0, maskCanvas.width, maskCanvas.height);
            draw();
        });

        document.getElementById('modeCircle').addEventListener('click', () => {
            brushMode = 'circle';
            document.getElementById('modeCircle').classList.add('active');
            document.getElementById('modeSoft').classList.remove('active');
        });

        document.getElementById('modeSoft').addEventListener('click', () => {
            brushMode = 'soft';
            document.getElementById('modeSoft').classList.add('active');
            document.getElementById('modeCircle').classList.remove('active');
        });

        // Custom cursor
        const cursor = document.getElementById('cursor');
        let cursorX = 0, cursorY = 0;
        let currentX = 0, currentY = 0;

        if (window.matchMedia('(hover: hover)').matches) {
            document.addEventListener('mousemove', (e) => {
                cursorX = e.clientX;
                cursorY = e.clientY;
            });

            function animateCursor() {
                currentX += (cursorX - currentX) * 0.15;
                currentY += (cursorY - currentY) * 0.15;
                cursor.style.left = currentX + 'px';
                cursor.style.top = currentY + 'px';
                requestAnimationFrame(animateCursor);
            }
            animateCursor();

            document.querySelectorAll('a, button, .reveal-container').forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('hover'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
            });
        }

        // Initialize
        loadImages();
    </script>
</body>
</html>
